<!DOCTYPE html><html><head><meta charset="UTF-8"/><meta name="og:site_name" content="Hello world!"/><link rel="canonical" href="https://trampampam.github.io/about/shellout"/><meta name="twitter:url" content="https://trampampam.github.io/about/shellout"/><meta name="og:url" content="https://trampampam.github.io/about/shellout"/><title>üêö ShellOut | Hello world!</title><meta name="twitter:title" content="üêö ShellOut | Hello world!"/><meta name="og:title" content="üêö ShellOut | Hello world!"/><meta name="description" content="‚Äúshell out‚Äù from a Swift script or command line tool."/><meta name="twitter:description" content="‚Äúshell out‚Äù from a Swift script or command line tool."/><meta name="og:description" content="‚Äúshell out‚Äù from a Swift script or command line tool."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Hello world!"/></head><body><header><div class="wrapper"><nav class="site-name"><a href="/">Hello world!</a></nav><br/><br/><nav><ul><li><a href="/posts">My posts</a></li><li><a href="/about">About</a></li><li><a href="/faq">FAQ</a></li></ul></nav></div></header><div class="wrapper"><article class="content"><h1>üêö ShellOut</h1><p>Welcome to ShellOut, a simple package that enables you to easily ‚Äúshell out‚Äù from a Swift script or command line tool.</p><p>Even though you can accomplish most of the tasks you need to do in native Swift code, sometimes you need to invoke the power of the command line from a script or tool - and this is exactly what ShellOut makes so simple.</p><h2>Usage</h2><p>Just call <code>shellOut()</code>, and specify what command you want to run, along with any arguments you want to pass:</p><pre><code><span class="keyword">let</span> output = <span class="keyword">try</span> <span class="call">shellOut</span>(to: <span class="string">"echo"</span>, arguments: [<span class="string">"Hello world"</span>])
<span class="call">print</span>(output) <span class="comment">// Hello world</span>
</code></pre><p>You can also easily run a series of commands at once, optionally at a given path:</p><pre><code><span class="keyword">try</span> <span class="call">shellOut</span>(to: [<span class="string">"mkdir NewFolder"</span>, <span class="string">"echo \"Hello again\" &gt; NewFolder/File"</span>], at: <span class="string">"~/CurrentFolder"</span>)
<span class="keyword">let</span> output = <span class="keyword">try</span> <span class="call">shellOut</span>(to: <span class="string">"cat File"</span>, at: <span class="string">"~/CurrentFolder/NewFolder"</span>)
<span class="call">print</span>(output) <span class="comment">// Hello again</span>
</code></pre><p>In case of an error, ShellOut will automatically read <code>STDERR</code> and format it nicely into a typed Swift error:</p><pre><code><span class="keyword">do</span> {
    <span class="keyword">try</span> <span class="call">shellOut</span>(to: <span class="string">"totally-invalid"</span>)
} <span class="keyword">catch</span> {
    <span class="keyword">let</span> error = error <span class="keyword">as</span>! <span class="type">ShellOutError</span>
    <span class="call">print</span>(error.<span class="property">message</span>) <span class="comment">// Prints STDERR</span>
    <span class="call">print</span>(error.<span class="property">output</span>) <span class="comment">// Prints STDOUT</span>
}
</code></pre><h2>Pre-defined commands</h2><p>Another way to use ShellOut is by executing pre-defined commands, that enable you to easily perform common tasks without having to construct commands using strings. It also ships with a set of such pre-defined commands for common tasks, such as using Git, manipulating the file system and using tools like <a href="https://github.com/JohnSundell/Marathon">Marathon</a>, <a href="https://cocoapods.org">CocoaPods</a> and <a href="https://fastlane.tools">fastlane</a>.</p><h3>Use Git</h3><pre><code><span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">gitInit</span>())
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">gitClone</span>(url: repositoryURL))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">gitCommit</span>(message: <span class="string">"A scripted commit!"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">gitPush</span>())
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">gitPull</span>(remote: <span class="string">"origin"</span>, branch: <span class="string">"release"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">gitSubmoduleUpdate</span>())
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">gitCheckout</span>(branch: <span class="string">"my-feature"</span>))
</code></pre><h3>Handle files, folders and symlinks</h3><pre><code><span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">createFolder</span>(named: <span class="string">"folder"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">createFile</span>(named: <span class="string">"file"</span>, contents: <span class="string">"Hello world"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">moveFile</span>(from: <span class="string">"path/a"</span>, to: <span class="string">"path/b"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">copyFile</span>(from: <span class="string">"path/a"</span>, to: <span class="string">"path/b"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">openFile</span>(at: <span class="string">"Project.xcodeproj"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">readFile</span>(at: <span class="string">"Podfile"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">removeFile</span>(from: <span class="string">"path/a"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">createSymlink</span>(to: <span class="string">"target"</span>, at: <span class="string">"link"</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">expandSymlink</span>(at: <span class="string">"link"</span>))
</code></pre><p><em>For a more powerful and object-oriented way to handle Files &amp; Folders in Swift, check out <a href="https://github.com/JohnSundell/Files">Files</a></em></p><h3>Use <a href="https://github.com/JohnSundell/Marathon">Marathon</a></h3><pre><code><span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">runMarathonScript</span>(at: <span class="string">"~/scripts/MyScript"</span>, arguments: [<span class="string">"One"</span>, <span class="string">"Two"</span>]))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">updateMarathonPackages</span>())
</code></pre><h3>Use <a href="https://github.com/apple/swift-package-manager">The Swift Package Manager</a></h3><pre><code><span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">createSwiftPackage</span>(withType: .<span class="dotAccess">executable</span>))
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">updateSwiftPackages</span>())
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">generateSwiftPackageXcodeProject</span>())
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">buildSwiftPackage</span>())
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">testSwiftPackage</span>())
</code></pre><h3>Use <a href="https://fastlane.tools">fastlane</a></h3><pre><code><span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">runFastlane</span>(usingLane: <span class="string">"appstore"</span>))
</code></pre><h3>Use <a href="https://cocoapods.org">CocoaPods</a></h3><pre><code><span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">updateCocoaPods</span>())
<span class="keyword">try</span> <span class="call">shellOut</span>(to: .<span class="call">installCocoaPods</span>())
</code></pre><p>Don't see what you're looking for in the list above? You can easily define your own commands using <code>ShellOutCommand</code>. If you've made a command you think should be included among the built-in ones, feel free to <a href="https://github.com/JohnSundell/ShellOut/pull/new/master">open a PR</a>!</p><h2>Installation</h2><h3>For scripts</h3><ul><li>Install <a href="https://github.com/johnsundell/marathon">Marathon</a>.</li><li>Add ShellOut to Marathon using <code>$ marathon add https://github.com/JohnSundell/ShellOut.git</code>.</li><li>Alternatively, add <code>https://github.com/JohnSundell/ShellOut.git</code> to your <code>Marathonfile</code>.</li><li>Write your script, then run it using <code>$ marathon run yourScript.swift</code>.</li></ul><h3>For command line tools</h3><ul><li>Add <code>.package(url: "https://github.com/JohnSundell/ShellOut.git", from: "2.0.0")</code> to your <code>Package.swift</code> file's <code>dependencies</code>.</li><li>Update your packages using <code>$ swift package update</code>.</li></ul><h2>Help, feedback or suggestions?</h2><ul><li><a href="https://github.com/JohnSundell/ShellOut/issues/new">Open an issue</a> if you need help, if you found a bug, or if you want to discuss a feature request.</li><li><a href="https://github.com/JohnSundell/ShellOut/pull/new/master">Open a PR</a> if you want to make some change to ShellOut.</li><li>Contact <a href="https://twitter.com/johnsundell">@johnsundell on Twitter</a> for discussions, news &amp; announcements about ShellOut &amp; other projects.</li></ul></article></div><footer>Hello</footer></body></html>